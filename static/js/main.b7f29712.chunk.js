(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{152:function(e,t,a){},153:function(e,t,a){},155:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(31),c=a.n(r),s=a(21),i=a.n(s),l=(a(152),a(4)),u=a(5),p=a(7),m=a(6),d=a(8),h=(a(153),a(3)),E=a.n(h),b=a(12),f=(a(155),a(20)),v=a(2),g="UPDATE_NAV_TAB",y=a(13),O=a.n(y),P=function(e){return O.a.get("https://qootest.com/posts/".concat(e))},L=function(e){return O.a.delete("https://qootest.com/posts/".concat(e))},j=function(e){return O.a.post("https://qootest.com/posts",e)},_=function(e,t){return O.a.put("https://qootest.com/posts/".concat(e),t)},N=a(64);function S(e){var t=e.to,a=e.children,n=e.exact,r=e.updateTab;return o.a.createElement(f.a,{path:t,exact:n,children:function(e){var n=e.match;return o.a.createElement("button",{className:"nav__item ".concat(n?"active":""),onClick:function(){r(t)}},o.a.createElement(v.b,{to:t},a))}})}var T=function(e){var t=e.updateTab;return o.a.createElement("nav",{className:"nav"},o.a.createElement("button",{className:"nav__item"},o.a.createElement("b",null,"Blog")),o.a.createElement(S,{to:"/",exact:!0,updateTab:t},o.a.createElement(E.a,{name:"fas fa-home",style:{style:{fontSize:"25px",color:"black"}}}),o.a.createElement("span",null,"Home")),o.a.createElement(S,{to:"/post",updateTab:t},"Post"),o.a.createElement(S,{to:"/share",updateTab:t},o.a.createElement(N.a,{style:{fontSize:"25px"}}),"Share"))},D=Object(b.b)((function(e){return{navTab:e.nav.navTab}}),(function(e){return{updateTab:function(t){return e(function(e){return{type:g,name:e}}(t))}}}))((function(e){return o.a.createElement(T,e)})),k=(a(173),n.Component,a(30),a(23)),C=(a(174),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=a.state;t.author,t.title,t.body;a.setState(Object(k.a)({},e.target.name,e.target.value))},a.onSubmit=function(){var e=a.state,t={author:e.author,title:e.title,body:e.body};a.props.sharePost(t),a.setState({author:"",title:"",body:""})},a.state={author:"",title:"",body:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isLoadingSharePost,n=t.history;a===e.isLoadingSharePost||a?console.log(this.state):n.push("/post")}},{key:"render",value:function(){var e=this.state,t=e.author,a=e.title,n=e.body;this.props;return o.a.createElement("div",{className:"wrapper"},o.a.createElement("h1",null,"Share your post"),o.a.createElement(v.b,{to:"/post"},o.a.createElement(E.a,{name:"angle-double-left",style:{fontSize:"25px"}}),o.a.createElement("span",null,"Back to PostList")),o.a.createElement("div",{className:"input-group mx-auto"},o.a.createElement("div",{className:"input-group__item mt-3 "},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"name",name:"author",value:t,onChange:this.handleChange})),o.a.createElement("div",{className:"input-group__item "},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"title",name:"title",value:a,onChange:this.handleChange})),o.a.createElement("div",{className:"input-group__item"},o.a.createElement("textarea",{className:"form-control",placeholder:"body",style:{height:"300px"},name:"body",value:n,onChange:this.handleChange})),o.a.createElement("button",{className:"btn btn-outline-secondary mx-auto",type:"button",onClick:this.onSubmit},"send")))}}]),t}(n.Component)),x=Object(f.e)(Object(b.b)((function(e){return{isLoadingSharePost:e.nav.isLoadingSharePost}}),(function(e){return{sharePost:function(t){e(function(e){return{type:"SHARE_POST",payload:j(e)}}(t))}}}))((function(e){return o.a.createElement(C,e)}))),w=(a(175),function(e){var t=e.src,a=e.desc,n=e.link;return o.a.createElement("div",{className:"pic"},o.a.createElement("a",{href:n,target:"_blank"},o.a.createElement("img",{src:t,alt:""})),o.a.createElement("p",null,a))}),G=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(p.a)(this,Object(m.a)(t).call(this))).state={pictures:[],isLoading:!0},e}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=(this.state.pictures,"https://api.unsplash.com/photos/?client_id=aae4b30df237a7474cc5ff86eca6fd20ff9c173db667d16b8958205a6948fab4&per_page=30");O.a.get(t),O.a.get(t).then((function(t){e.setState({pictures:t.data,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.pictures,a=e.isLoading,n=o.a.createElement("div",{className:"wrapper"},t.map((function(e){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement(w,{src:e.urls.small,desc:e.alt_description,link:e.links.html})))})));return o.a.createElement("div",null,o.a.createElement("h1",null,"Welcome"),a?o.a.createElement("h4",null,"Loading..."):n)}}]),t}(n.Component),I=(a(176),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=a.state;t.author,t.title,t.body;a.setState(Object(k.a)({},e.target.name,e.target.value))},a.onConfirm=function(){var e=a.state,t=e.author,n=e.title,o=e.body,r=a.props.match.params.id,c={author:t,title:n,body:o};a.props.editPost(r,c),a.setState({author:"",title:"",body:""})},a.state={id:"",author:"",title:"",body:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;P(t).then((function(t){e.setState({id:t.data.id,author:t.data.author,title:t.data.title,body:t.data.body})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isLoadingEditPost,n=t.history;a===e.isLoadingEditPost||a||n.push("/post")}},{key:"render",value:function(){var e=this.state,t=e.author,a=e.title,n=e.body;return o.a.createElement("div",{className:"wrapper"},o.a.createElement("h1",null,"Edit your post"),o.a.createElement(v.b,{to:"/post"},o.a.createElement(E.a,{name:"angle-double-left",style:{fontSize:"25px"}}),o.a.createElement("span",null,"Back to PostList")),o.a.createElement("div",{className:"input-group mx-auto"},o.a.createElement("div",{className:"input-group__item mt-3 "},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"name",name:"author",value:t,onChange:this.handleChange})),o.a.createElement("div",{className:"input-group__item "},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"title",name:"title",value:a,onChange:this.handleChange})),o.a.createElement("div",{className:"input-group__item"},o.a.createElement("textarea",{className:"form-control",placeholder:"body",style:{height:"300px"},name:"body",value:n,onChange:this.handleChange})),o.a.createElement("button",{className:"btn btn-outline-secondary mx-auto",type:"button",onClick:this.onConfirm},"Confirm")))}}]),t}(n.Component)),A=Object(f.e)(Object(b.b)((function(e){return{isLoadingEditPost:e.nav.isLoadingEditPost}}),(function(e){return{editPost:function(t,a){e(function(e,t){return{type:"EDIT_POST",payload:_(e,t)}}(t,a))}}}))((function(e){return o.a.createElement(I,e)}))),F=(a(177),function(e){function t(e){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getPostList()}},{key:"render",value:function(){var e=this.props,t=e.posts,a=e.history;return o.a.createElement("div",{className:"wrapper"},o.a.createElement("ul",{className:"list-group mt-5"},t.map((function(e){return o.a.createElement("li",{className:"list-group-item",key:e.id,id:e.id,onClick:function(){a.push("/post/"+e.id)}},o.a.createElement(i.a,{source:e.title}))}))))}}]),t}(n.Component)),U=Object(f.e)(Object(b.b)((function(e){return{isLoadingGetPosts:e.nav.isLoadingGetPosts,posts:e.nav.posts}}),(function(e){return{getPostList:function(){e({type:"GET_POST_LIST",payload:O.a.get("https://qootest.com/posts?_sort=id&_order=desc&_limit=10")})}}}))((function(e){return o.a.createElement(F,e)}))),B=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.post;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-3 info"},o.a.createElement("span",null,"Id"),o.a.createElement("p",null,e.id),o.a.createElement("span",null,"Author"),o.a.createElement("p",null,e.author?o.a.createElement(i.a,{source:e.author}):"\u4f5c\u8005\u4e0d\u8a73"),o.a.createElement("span",null,"Title"),o.a.createElement("p",null,o.a.createElement(i.a,{source:e.title})),o.a.createElement("span",null,"Created Time"),o.a.createElement("p",{className:"createdTime"},e.createdAt?e.createdAt:"\u7121\u5f9e\u5f97\u77e5")),o.a.createElement("div",{className:"col-9 article"},o.a.createElement("div",{className:"content"},e.body?o.a.createElement(i.a,{source:e.body}):"Loading..."))))}}]),t}(n.Component),q=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).onDelete=function(){var e=a.props.match.params.id,t=a.props.deletePost;window.confirm("Are you sure deleting this?")&&t(e)},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getSinglePost(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isLoadingDeletePost,n=t.history;a===e.isLoadingDeletePost||a||n.push("/post")}},{key:"render",value:function(){var e=this.props,t=e.post,a=e.history;e.deletePost;return o.a.createElement("div",{className:"wrapper"},o.a.createElement("button",{type:"button",className:"delete btn btn-secondary mt-3",onClick:this.onDelete},"Delete"),o.a.createElement("button",{type:"button",className:"edit btn btn-secondary mt-3",onClick:function(){a.push("/post/edit/"+t.id)}},"Edit"),o.a.createElement("ul",{className:"list-group"},o.a.createElement(v.b,{to:"/post"},o.a.createElement(E.a,{name:"angle-double-left",style:{fontSize:"25px"}}),o.a.createElement("span",null,"Back to PostList")),o.a.createElement(B,{post:t})))}}]),t}(n.Component),z=Object(f.e)(Object(b.b)((function(e){return{isLoadingGetPost:e.nav.isLoadingGetPost,isLoadingDeletePost:e.nav.isLoadingDeletePost,post:e.nav.post}}),(function(e){return{getSinglePost:function(t){e(function(e){return{type:"GET_POST",payload:P(e)}}(t))},deletePost:function(t){e(function(e){return{type:"DELETE_POST",payload:L(e)}}(t))}}}))((function(e){return o.a.createElement(q,e)}))),H=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).call(this))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(v.a,null,o.a.createElement("div",{className:"app"},o.a.createElement(D,null),o.a.createElement("div",{className:"page"},o.a.createElement(f.a,{exact:!0,path:"/",component:G}),o.a.createElement(f.a,{path:"/share",component:x}),o.a.createElement(f.a,{exact:!0,path:"/post/:id",component:z}),o.a.createElement(f.a,{exact:!0,path:"/post/edit/:id",component:A}),o.a.createElement(f.a,{exact:!0,path:"/post",component:U}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=a(24),R=a(62),W=a(63),J=a.n(W),V=a(43);function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(a,!0).forEach((function(t){Object(k.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Q={navTab:"Home",isLoadingGetPosts:!1,isLoadingGetPost:!1,isLoadingDeletePost:!1,isLoadingSharePost:!1,isLoadingEditPost:!1,posts:[],post:{}};var X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return K({},e,{navTab:t.name});case"GET_POST_LIST_PENDING":return K({},e,{isLoadingGetPosts:!0});case"GET_POST_LIST_FULFILLED":return K({},e,{isLoadingGetPosts:!1,posts:t.payload.data});case"GET_POST_PENDING":return K({},e,{isLoadingGetPost:!0});case"GET_POST_FULFILLED":return K({},e,{isLoadingGetPost:!1,post:t.payload.data});case"DELETE_POST_PENDING":return K({},e,{isLoadingDeletePost:!0});case"DELETE_POST_FULFILLED":return K({},e,{isLoadingDeletePost:!1});case"SHARE_POST_PENDING":return K({},e,{isLoadingSharePost:!0});case"SHARE_POST_FULFILLED":return K({},e,{isLoadingSharePost:!1,post:[].concat(Object(V.a)(Q.posts),[t.payload])});case"EDIT_POST_PENDING":return K({},e,{isLoadingEditPost:!0});case"EDIT_POST_FULFILLED":return K({},e,{isLoadingEditPost:!1,post:[].concat(Object(V.a)(Q.posts),[t.payload])});default:return e}},Y=Object(M.c)({nav:X}),Z=Object(M.d)(Y,Object(M.a)(J.a,R.a));c.a.render(o.a.createElement(b.a,{store:Z},o.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},30:function(e,t,a){},65:function(e,t,a){e.exports=a(178)}},[[65,1,2]]]);
//# sourceMappingURL=main.b7f29712.chunk.js.map