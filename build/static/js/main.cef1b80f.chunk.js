(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{151:function(e,t,a){},152:function(e,t,a){},154:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},177:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(31),s=a.n(r),c=a(21),i=a.n(c),l=(a(151),a(5)),u=a(6),p=a(8),m=a(7),d=a(9),h=(a(152),a(3)),E=a.n(h),b=a(4),f=(a(154),a(20)),v=a(2),g="UPDATE_NAV_TAB",P=a(15),y=a.n(P),O=function(e){return y.a.get("https://qootest.com/posts/".concat(e))},L=function(e){return y.a.delete("https://qootest.com/posts/".concat(e))},_=function(e,t,a){return y.a.post("https://qootest.com/posts",{title:e,author:t,body:a})},j=function(e,t,a,n){return y.a.put("https://qootest.com/posts/".concat(e),{title:t,author:a,body:n})},S=function(e){return{type:"GET_POST",payload:O(e)}},N=a(63);function T(e){var t=e.to,a=e.children,n=e.exact,r=e.updateTab;return o.a.createElement(f.a,{path:t,exact:n,children:function(e){var n=e.match;return o.a.createElement("button",{className:"nav__item ".concat(n?"active":""),onClick:function(){r(t)}},o.a.createElement(v.b,{to:t},a))}})}var D=function(e){var t=e.updateTab;return o.a.createElement("nav",{className:"nav"},o.a.createElement("button",{className:"nav__item"},o.a.createElement("b",null,"Blog")),o.a.createElement(T,{to:"/",exact:!0,updateTab:t},o.a.createElement(E.a,{name:"fas fa-home",style:{style:{fontSize:"25px",color:"black"}}}),o.a.createElement("span",null,"Home")),o.a.createElement(T,{to:"/post",updateTab:t},"Post"),o.a.createElement(T,{to:"/share",updateTab:t},o.a.createElement(N.a,{style:{fontSize:"25px"}}),"Share"))},k=Object(b.b)((function(e){return{navTab:e.nav.navTab}}),(function(e){return{updateTab:function(t){return e(function(e){return{type:g,name:e}}(t))}}}))((function(e){return o.a.createElement(D,e)})),C=(a(172),n.Component,a(30),a(23)),G=(a(173),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=a.state;t.author,t.title,t.body;a.setState(Object(C.a)({},e.target.name,e.target.value))},a.onSubmit=function(){var e=a.state,t=e.title,n=e.author,o=e.body;a.props.sharePost(t,n,o),a.setState({author:"",title:"",body:""})},a.state={author:"",title:"",body:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isLoadingSharePost,n=t.history;e.isLoadingSharePost===a||a?console.log(this.state):n.push("/post")}},{key:"render",value:function(){var e=this.state,t=e.author,a=e.title,n=e.body;console.log(t,a,n);this.props;return o.a.createElement("div",{className:"wrapper"},o.a.createElement("h1",null,"Share your post"),o.a.createElement(v.b,{to:"/post"},o.a.createElement(E.a,{name:"angle-double-left",style:{fontSize:"25px"}}),o.a.createElement("span",null,"Back to PostList")),o.a.createElement("div",{className:"input-group mx-auto"},o.a.createElement("div",{className:"input-group__item mt-3 "},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"name",name:"author",value:t,onChange:this.handleChange})),o.a.createElement("div",{className:"input-group__item "},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"title",name:"title",value:a,onChange:this.handleChange})),o.a.createElement("div",{className:"input-group__item"},o.a.createElement("textarea",{className:"form-control",placeholder:"body",style:{height:"300px"},name:"body",value:n,onChange:this.handleChange})),o.a.createElement("button",{className:"btn btn-outline-secondary mx-auto",type:"button",onClick:this.onSubmit},"send")))}}]),t}(n.Component)),U=Object(f.e)(Object(b.b)((function(e){return{isLoadingSharePost:e.nav.isLoadingSharePost}}),(function(e){return{sharePost:function(t,a,n){e(function(e,t,a){return{type:"SHARE_POST",payload:_(e,t,a)}}(t,a,n))}}}))((function(e){return o.a.createElement(G,e)}))),x=(a(174),function(e){var t=e.src,a=e.desc,n=e.link;return o.a.createElement("div",{className:"pic"},o.a.createElement("a",{href:n,target:"_blank"},o.a.createElement("img",{src:t,alt:""})),o.a.createElement("p",null,a))}),w=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getUnsplashPostList()}},{key:"render",value:function(){var e=this.props,t=e.isLoadingGetUnsplashPosts,a=e.UnsplashPosts,n=o.a.createElement("div",{className:"wrapper"},a.map((function(e){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement(x,{src:e.urls.small,desc:e.alt_description,link:e.links.html})))}))),r=o.a.createElement("div",{className:"spinner-border",role:"status"},o.a.createElement("span",{className:"sr-only"},"Loading..."));return o.a.createElement("div",null,o.a.createElement("h1",null,"Welcome"),t?r:n)}}]),t}(n.Component),I=Object(f.e)(Object(b.b)((function(e){return{isLoadingGetUnsplashPosts:e.nav.isLoadingGetUnsplashPosts,UnsplashPosts:e.nav.UnsplashPosts}}),(function(e){return{getUnsplashPostList:function(){e({type:"GET_UNSPLASH_POST_LIST",payload:y.a.get("https://api.unsplash.com/photos/?client_id=aae4b30df237a7474cc5ff86eca6fd20ff9c173db667d16b8958205a6948fab4&per_page=30")})}}}))((function(e){return o.a.createElement(w,e)}))),A=(a(175),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){var t=a.state;t.title,t.author,t.body;a.setState(Object(C.a)({},e.target.name,e.target.value))},a.onConfirm=function(){var e=a.props.match.params.id,t=a.state,n=t.title,o=t.author,r=t.body;a.props.editPost(e,n,o,r)},a.handlePropsToState=function(){var e=a.props.post;a.setState({title:e.title,author:e.author,body:e.body})},a.state={title:"",author:"",body:""},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getSinglePost(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.post,n=t.isLoadingEditPost,o=t.history;a!==e.post&&this.handlePropsToState(),n===e.isLoadingEditPost||n||o.push("/post")}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.author,n=e.body;return o.a.createElement("div",{className:"wrapper"},o.a.createElement("h1",null,"Edit your post"),o.a.createElement(v.b,{to:"/post"},o.a.createElement(E.a,{name:"angle-double-left",style:{fontSize:"25px"}}),o.a.createElement("span",null,"Back to PostList")),o.a.createElement("div",{className:"input-group mx-auto"},o.a.createElement("div",{className:"input-group__item mt-3 "},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"name",name:"author",value:a,onChange:this.handleChange})),o.a.createElement("div",{className:"input-group__item "},o.a.createElement("input",{type:"text",className:"form-control",placeholder:"title",name:"title",value:t,onChange:this.handleChange})),o.a.createElement("div",{className:"input-group__item"},o.a.createElement("textarea",{className:"form-control",placeholder:"body",style:{height:"300px"},name:"body",value:n,onChange:this.handleChange})),o.a.createElement("button",{className:"btn btn-outline-secondary mx-auto",type:"button",onClick:this.onConfirm},"Confirm")))}}]),t}(n.Component)),F=Object(f.e)(Object(b.b)((function(e){return{isLoadingEditPost:e.nav.isLoadingEditPost,post:e.nav.post}}),(function(e){return{editPost:function(t,a,n,o){e(function(e,t,a,n){return{type:"EDIT_POST",payload:j(e,t,a,n)}}(t,a,n,o))},getSinglePost:function(t){e(S(t))}}}))((function(e){return o.a.createElement(A,e)}))),H=(a(176),function(e){function t(e){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).call(this,e))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.getPostList()}},{key:"render",value:function(){var e=this.props,t=e.posts,a=e.history;return o.a.createElement("div",{className:"wrapper"},o.a.createElement("ul",{className:"list-group mt-5"},t.map((function(e){return o.a.createElement("li",{className:"list-group-item",key:e.id,id:e.id,onClick:function(){a.push("/post/"+e.id)}},o.a.createElement(i.a,{source:e.title}))}))))}}]),t}(n.Component)),B=Object(f.e)(Object(b.b)((function(e){return{isLoadingGetPosts:e.nav.isLoadingGetPosts,posts:e.nav.posts}}),(function(e){return{getPostList:function(){e({type:"GET_POST_LIST",payload:y.a.get("https://qootest.com/posts?_sort=id&_order=desc&_limit=10")})}}}))((function(e){return o.a.createElement(H,e)}))),q=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.post;return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-3 info"},o.a.createElement("span",null,"Id"),o.a.createElement("div",null,e.id),o.a.createElement("span",null,"Author"),o.a.createElement("div",null,e.author?o.a.createElement(i.a,{source:e.author}):"\u4f5c\u8005\u4e0d\u8a73"),o.a.createElement("span",null,"Title"),o.a.createElement("div",null,o.a.createElement(i.a,{source:e.title})),o.a.createElement("span",null,"Created Time"),o.a.createElement("div",{className:"createdTime"},e.createdAt?e.createdAt:"\u7121\u5f9e\u5f97\u77e5")),o.a.createElement("div",{className:"col-9 article"},o.a.createElement("div",{className:"content"},e.body?o.a.createElement(i.a,{source:e.body}):"Loading..."))))}}]),t}(n.Component),z=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(m.a)(t).call(this,e))).onDelete=function(){var e=a.props.match.params.id,t=a.props.deletePost;window.confirm("Are you sure deleting this?")&&t(e)},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getSinglePost(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isLoadingDeletePost,n=t.history;a===e.isLoadingDeletePost||a||n.push("/post")}},{key:"render",value:function(){var e=this.props,t=e.post,a=e.history;e.deletePost;return o.a.createElement("div",{className:"wrapper"},o.a.createElement("button",{type:"button",className:"delete btn btn-secondary mt-3",onClick:this.onDelete},"Delete"),o.a.createElement("button",{type:"button",className:"edit btn btn-secondary mt-3",onClick:function(){a.push("/post/edit/"+t.id)}},"Edit"),o.a.createElement("ul",{className:"list-group"},o.a.createElement(v.b,{to:"/post"},o.a.createElement(E.a,{name:"angle-double-left",style:{fontSize:"25px"}}),o.a.createElement("span",null,"Back to PostList")),o.a.createElement(q,{post:t})))}}]),t}(n.Component),M=Object(f.e)(Object(b.b)((function(e){return{isLoadingGetPost:e.nav.isLoadingGetPost,isLoadingDeletePost:e.nav.isLoadingDeletePost,post:e.nav.post}}),(function(e){return{getSinglePost:function(t){e(S(t))},deletePost:function(t){e(function(e){return{type:"DELETE_POST",payload:L(e)}}(t))}}}))((function(e){return o.a.createElement(z,e)}))),R=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(m.a)(t).call(this))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement(v.a,null,o.a.createElement("div",{className:"app"},o.a.createElement(k,null),o.a.createElement("div",{className:"page"},o.a.createElement(f.a,{exact:!0,path:"/",component:I}),o.a.createElement(f.a,{path:"/share",component:U}),o.a.createElement(f.a,{exact:!0,path:"/post/:id",component:M}),o.a.createElement(f.a,{exact:!0,path:"/post/edit/:id",component:F}),o.a.createElement(f.a,{exact:!0,path:"/post",component:B}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var W=a(24),J=a(61),V=a(62),$=a.n(V);function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){Object(C.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var X={navTab:"Home",isLoadingGetUnsplashPosts:!1,isLoadingGetPosts:!1,isLoadingGetPost:!1,isLoadingDeletePost:!1,isLoadingSharePost:!1,isLoadingEditPost:!1,UnsplashPosts:[],posts:[],post:{}};var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Q({},e,{navTab:t.name});case"GET_UNSPLASH_POST_LIST_PENDING":return Q({},e,{isLoadingGetUnsplashPosts:!0});case"GET_UNSPLASH_POST_LIST_FULFILLED":return Q({},e,{isLoadingGetUnsplashPosts:!1,UnsplashPosts:t.payload.data});case"GET_POST_LIST_PENDING":return Q({},e,{isLoadingGetPosts:!0});case"GET_POST_LIST_FULFILLED":return Q({},e,{isLoadingGetPosts:!1,posts:t.payload.data});case"GET_POST_PENDING":return Q({},e,{isLoadingGetPost:!0});case"GET_POST_FULFILLED":return Q({},e,{isLoadingGetPost:!1,post:t.payload.data});case"DELETE_POST_PENDING":return Q({},e,{isLoadingDeletePost:!0});case"DELETE_POST_FULFILLED":return Q({},e,{isLoadingDeletePost:!1});case"SHARE_POST_PENDING":return Q({},e,{isLoadingSharePost:!0});case"SHARE_POST_FULFILLED":return Q({},e,{isLoadingSharePost:!1});case"EDIT_POST_PENDING":return Q({},e,{isLoadingEditPost:!0});case"EDIT_POST_FULFILLED":return Q({},e,{isLoadingEditPost:!1});default:return e}},Z=Object(W.c)({nav:Y}),ee=Object(W.d)(Z,Object(W.a)($.a,J.a));s.a.render(o.a.createElement(b.a,{store:ee},o.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},30:function(e,t,a){},64:function(e,t,a){e.exports=a(177)}},[[64,1,2]]]);
//# sourceMappingURL=main.cef1b80f.chunk.js.map